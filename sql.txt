-- by 하나
-- 1. 구매 등급 테이블
CREATE TABLE purchase_credit_score_list (
    purchase_id VARCHAR2(20),
    purchase_credit_score number not null,
    purchase_normal number not null,
    purchase_denial number not null,
    purchase_undelivered number not null,
    purchase_return number not null,
    purchase_success_rate number not null
); -- 생성

DROP TABLE purchase_credit_score_list; -- 삭제

ALTER TABLE purchase_credit_score_list
ADD CONSTRAINT FK_purchase_id
FOREIGN KEY (purchase_id)
REFERENCES member(member_id); -- 외래키 부여

ALTER TABLE purchase_credit_score_list
ADD CONSTRAINT PK_purchase_id PRIMARY KEY (purchase_id); -- 기본키 부여

-- 2. 회원 테이블
create table member(
    member_name varchar2(10),
    member_id varchar2(20) primary key,
    member_password varchar2(20) not null,
    email varchar2(50) not null,
    member_phone varchar2(11) not null,
    sample4_postcode varchar2(30),
    sample4_roadAddress varchar2(50),
    sample4_jibunAddress varchar2(50),
    sample4_detailAddress varchar2(50),
    member_delete varchar2(2) default '0'   -- 회원탈퇴시 값이 1으로 바뀌면서 로그인 불가
);

-- 3. 판매 등급 테이블
CREATE TABLE sale_credit_score_list (
    sale_id VARCHAR2(20),
    sale_credit_score number not null,
    sale_normal number not null,
    sale_denial number not null,
    sale_undelivered number not null,
    sale_return number not null,
    sale_success_rate number not null
);

DROP TABLE sale_credit_score_list; -- 삭제

ALTER TABLE sale_credit_score_list
ADD CONSTRAINT FK_sale_id
FOREIGN KEY (sale_id)
REFERENCES member(member_id); -- 외래키 부여

ALTER TABLE sale_credit_score_list
ADD CONSTRAINT PK_sale_id PRIMARY KEY (sale_id); -- 기본키 부여

// by.Hong
/*
create table bid_list(
    bid_number number primary key,
    bid_product_number number references product(product_number),
    bid_id varchar2(15) references member(member_id),
    bid_price number,
    bid_date date default sysdate,
    bid_no number
);
    
create table member(
    member_id varchar2(15) primary key,
    member_password varchar2(20)
);

create table product(
    product_number number primary key,
    product_id varchar2(15) references member(member_id),
    product_subject varchar2(30),
    product_img1 varchar2(50),
    product_img2 varchar2(50),
    product_img3 varchar2(50),
    product_img4 varchar2(50),
    product_img5 varchar2(50),
    product_starting_price number,
    product_now_price number,  --bid_list의 마지막 bid_price와 동일 
    product_purchase_price number
);

create table comment_list(
    comment_number number primary key,
    comment_group_number number,
    comment_product_number number references product(product_number),
    comment_id varchar2(15) references member(member_id),
    comment_reply_id varchar2(15) default 'no' references member(member_id),
    comment_content varchar2(1000),
    comment_lev varchar2(1) default '0' check(comment_lev in('0','1')),
    comment_secret varchar2(1) default '0' check(comment_secret in('0','1')),
    comment_is_deleted varchar2(1) default '0' check(comment_is_deleted in('0','1')),
    comment_date date default sysdate,
    comment_list_no number
);   
    
*/

create table member(
member_name varchar2(15),
member_id varchar2(20) primary key,
member_password varchar2(20) not null,
email varchar2(50) not null,
member_phone varchar2(11) not null,
sample4_postcode varchar2(30),
sample4_roadAddress varchar2(50),
sample4_jibunAddress varchar2(50),
sample4_detailAddress varchar2(50),
member_delete number default 0   -- 회원탈퇴시 값이 1으로 바뀌면서 로그인 불가
);


/* by.유빈
-- 상품정보
CREATE TABLE product (
		product_number number primary key, -- 상품번호
		product_id varchar2(1000) not null, -- 아이디
        
		product_category_1 varchar2(1000) not null, -- 카테고리 1차
		product_category_2 varchar2(1000) not null, -- 카테고리 2차
        
		product_subject varchar2(1000) not null, -- 상품제목
		product_content varchar2(4000) not null, -- 상품내용
        product_img_1 varchar2(1000) not null, -- 이미지(썸네일)_1
        product_img_2 varchar2(1000), -- 이미지(썸네일)_2
        product_img_3 varchar2(1000), -- 이미지(썸네일)_3
        product_img_4 varchar2(1000), -- 이미지(썸네일)_4
        product_img_5 varchar2(1000), -- 이미지(썸네일)_5
        
		product_starting_price number not null, -- 경매시작가
        product_bidding_unit number not null, -- 입찰단위
        product_end_date date not null, -- 경매종료일
        
        product_delivery varchar2(1000) not null, -- 택배거래(비용) : before = 착불, after = 착불, none = 불가능
		product_transaction_area varchar2(1000) not null, -- 거래가능지역 : none = 불가능, 사용자입력값
        
        product_purchase_price number not null, -- 즉시구매가격
		product_re_auction number not null, -- 재경매 : 0 = 불가능, 1 = 가능
        
		product_current_price number not null, -- 경매현재가
		product_bids number not null, -- 입찰수
		product_participants number not null, -- 참가자수
		product_credit_score number not null, -- 신용도
		product_views number not null, -- 조회수
		product_issue_date date not null, -- 등록일
		product_progress number not null -- 진행상태 : 진행중 = 0, 낙찰 = 1
);
*/
