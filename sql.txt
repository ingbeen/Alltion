-- 1. 구매 등급 테이블
CREATE TABLE purchase_credit_score_list (
    purchase_id VARCHAR2(20),
    purchase_credit_score number not null,
    purchase_normal number not null,
    purchase_denial number not null,
    purchase_undelivered number not null,
    purchase_return number not null,
    purchase_success_rate number not null
); -- 생성

DROP TABLE purchase_credit_score_list; -- 삭제

ALTER TABLE purchase_credit_score_list
ADD CONSTRAINT FK_purchase_id
FOREIGN KEY (purchase_id)
REFERENCES member(member_id); -- 외래키 부여

ALTER TABLE purchase_credit_score_list
ADD CONSTRAINT PK_purchase_id PRIMARY KEY (purchase_id); -- 기본키 부여

-- 2. 회원 테이블
create table member(
    member_name varchar2(10),
    member_id varchar2(20) primary key,
    member_password varchar2(20) not null,
    email varchar2(50) not null,
    member_phone varchar2(11) not null,
    sample4_postcode varchar2(30),
    sample4_roadAddress varchar2(50),
    sample4_jibunAddress varchar2(50),
    sample4_detailAddress varchar2(50),
    member_delete varchar2(2) default '0'   -- 회원탈퇴시 값이 1으로 바뀌면서 로그인 불가
);

-- 3. 판매 등급 테이블
CREATE TABLE sale_credit_score_list (
    sale_id VARCHAR2(20),
    sale_credit_score number not null,
    sale_normal number not null,
    sale_denial number not null,
    sale_undelivered number not null,
    sale_return number not null,
    sale_success_rate number not null
);

DROP TABLE sale_credit_score_list; -- 삭제

ALTER TABLE sale_credit_score_list
ADD CONSTRAINT FK_sale_id
FOREIGN KEY (sale_id)
REFERENCES member(member_id); -- 외래키 부여

ALTER TABLE sale_credit_score_list
ADD CONSTRAINT PK_sale_id PRIMARY KEY (sale_id); -- 기본키 부여

